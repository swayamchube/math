\documentclass{article}
% \usepackage{./arxiv}

\title{Coxeter and Tits Systems}
\author{Swayam Chube}
\date{Last Updated: \today}

\usepackage[utf8]{inputenc} % allow utf-8 input
% \usepackage[T1]{fontenc}    % use 8-bit T1 fonts
% \usepackage{lmodern}
\usepackage{hyperref}       % hyperlinks
\usepackage{url}            % simple URL typesetting
\usepackage{booktabs}       % professional-quality tables
\usepackage{amsfonts}       % blackboard math symbols
\usepackage{nicefrac}       % compact symbols for 1/2, etc.
\usepackage{microtype}      % microtypography
\usepackage{graphicx}
\usepackage{natbib}
\usepackage{doi}
\usepackage{amssymb}
\usepackage{bbm}
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{xcolor}
\usepackage{theoremref}
\usepackage{enumitem}
% \usepackage{mathpazo}
% \usepackage{euler}
\usepackage{mathrsfs}
\setlength{\marginparwidth}{2cm}
\usepackage{todonotes}
\usepackage{stmaryrd}
\usepackage[all,cmtip]{xy} % For diagrams, praise the Freyd-Mitchell theorem 
\usepackage{marvosym}
\usepackage{geometry}
\usepackage{titlesec}
\usepackage{mathtools}
\usepackage{tikz}
\usetikzlibrary{cd}
\usepackage{sansmath}
\usepackage{sfmath}

\renewcommand{\qedsymbol}{$\blacksquare$}
\renewcommand{\familydefault}{\sfdefault}

% Uncomment to override  the `A preprint' in the header
% \renewcommand{\headeright}{}
% \renewcommand{\undertitle}{}
% \renewcommand{\shorttitle}{}

\hypersetup{
    pdfauthor={Lots of People},
    colorlinks=true,
}

\newtheoremstyle{thmstyle}%               % Name
  {}%                                     % Space above
  {}%                                     % Space below
  {}%                             % Body font
  {}%                                     % Indent amount
  {\bfseries}%                            % Theorem head font
  {.}%                                    % Punctuation after theorem head
  { }%                                    % Space after theorem head, ' ', or \newline
  {\thmname{#1}\thmnumber{ #2}\thmnote{ (#3)}}%                                     % Theorem head spec (can be left empty, meaning `normal')

\newtheoremstyle{defstyle}%               % Name
  {}%                                     % Space above
  {}%                                     % Space below
  {}%                                     % Body font
  {}%                                     % Indent amount
  {\bfseries}%                            % Theorem head font
  {.}%                                    % Punctuation after theorem head
  { }%                                    % Space after theorem head, ' ', or \newline
  {\thmname{#1}\thmnumber{ #2}\thmnote{ (#3)}}%                                     % Theorem head spec (can be left empty, meaning `normal')

\theoremstyle{thmstyle}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}

\theoremstyle{defstyle}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{porism}[theorem]{Porism}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{interlude}[theorem]{Interlude}
\newtheorem{example}[theorem]{Example}
\newtheorem*{notation}{Notation}
\newtheorem*{claim}{Claim}

% Common Algebraic Structures
\newcommand{\R}{\mathbb{R}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\bbC}{\mathbb{C}} 
\newcommand{\K}{\mathbb{K}} % Base field which is either \R or \bbC
\newcommand{\calA}{\mathcal{A}} % Banach Algebras
\newcommand{\calB}{\mathcal{B}} % Banach Algebras
\newcommand{\calI}{\mathcal{I}} % ideal in a Banach algebra
\newcommand{\calJ}{\mathcal{J}} % ideal in a Banach algebra
\newcommand{\frakM}{\mathfrak{M}} % sigma-algebra
\newcommand{\calO}{\mathcal{O}} % Ring of integers
\newcommand{\bbA}{\mathbb{A}} % Adele (or ring thereof)
\newcommand{\bbI}{\mathbb{I}} % Idele (or group thereof)

% Categories
\newcommand{\catTopp}{\mathbf{Top}_*}
\newcommand{\catGrp}{\mathbf{Grp}}
\newcommand{\catTopGrp}{\mathbf{TopGrp}}
\newcommand{\catSet}{\mathbf{Set}}
\newcommand{\catTop}{\mathbf{Top}}
\newcommand{\catRing}{\mathbf{Ring}}
\newcommand{\catCRing}{\mathbf{CRing}} % comm. rings
\newcommand{\catMod}{\mathbf{Mod}}
\newcommand{\catMon}{\mathbf{Mon}}
\newcommand{\catMan}{\mathbf{Man}} % manifolds
\newcommand{\catDiff}{\mathbf{Diff}} % smooth manifolds
\newcommand{\catAlg}{\mathbf{Alg}}
\newcommand{\catRep}{\mathbf{Rep}} % representations 
\newcommand{\catVec}{\mathbf{Vec}}

% Group and Representation Theory
\newcommand{\chr}{\operatorname{char}}
\newcommand{\Aut}{\operatorname{Aut}}
\newcommand{\GL}{\operatorname{GL}}
\newcommand{\im}{\operatorname{im}}
\newcommand{\tr}{\operatorname{tr}}
\newcommand{\id}{\mathbf{id}}
\newcommand{\cl}{\mathbf{cl}}
\newcommand{\Gal}{\operatorname{Gal}}
\newcommand{\Tr}{\operatorname{Tr}}
\newcommand{\sgn}{\operatorname{sgn}}
\newcommand{\Sym}{\operatorname{Sym}}
\newcommand{\Alt}{\operatorname{Alt}}

% Commutative and Homological Algebra
\newcommand{\spec}{\operatorname{spec}}
\newcommand{\mspec}{\operatorname{m-spec}}
\newcommand{\Spec}{\operatorname{Spec}}
\newcommand{\MaxSpec}{\operatorname{MaxSpec}}
\newcommand{\Tor}{\operatorname{Tor}}
\newcommand{\tor}{\operatorname{tor}}
\newcommand{\Ann}{\operatorname{Ann}}
\newcommand{\Supp}{\operatorname{Supp}}
\newcommand{\Hom}{\operatorname{Hom}}
\newcommand{\End}{\operatorname{End}}
\newcommand{\coker}{\operatorname{coker}}
\newcommand{\limit}{\varprojlim}
\newcommand{\colimit}{%
  \mathop{\mathpalette\colimit@{\rightarrowfill@\textstyle}}\nmlimits@
}
\makeatother


\newcommand{\fraka}{\mathfrak{a}} % ideal
\newcommand{\frakb}{\mathfrak{b}} % ideal
\newcommand{\frakc}{\mathfrak{c}} % ideal
\newcommand{\frakf}{\mathfrak{f}} % face map
\newcommand{\frakg}{\mathfrak{g}}
\newcommand{\frakh}{\mathfrak{h}}
\newcommand{\frakm}{\mathfrak{m}} % maximal ideal
\newcommand{\frakn}{\mathfrak{n}} % naximal ideal
\newcommand{\frakp}{\mathfrak{p}} % prime ideal
\newcommand{\frakq}{\mathfrak{q}} % qrime ideal
\newcommand{\fraks}{\mathfrak{s}}
\newcommand{\frakt}{\mathfrak{t}}
\newcommand{\frakz}{\mathfrak{z}}
\newcommand{\frakA}{\mathfrak{A}}
\newcommand{\frakI}{\mathfrak{I}}
\newcommand{\frakJ}{\mathfrak{J}}
\newcommand{\frakK}{\mathfrak{K}}
\newcommand{\frakL}{\mathfrak{L}}
\newcommand{\frakN}{\mathfrak{N}} % nilradical 
\newcommand{\frakO}{\mathfrak{O}} % dedekind domain
\newcommand{\frakP}{\mathfrak{P}} % Prime ideal above
\newcommand{\frakQ}{\mathfrak{Q}} % Qrime ideal above 
\newcommand{\frakR}{\mathfrak{R}} % jacobson radical
\newcommand{\frakU}{\mathfrak{U}}
\newcommand{\frakV}{\mathfrak{V}}
\newcommand{\frakW}{\mathfrak{W}}
\newcommand{\frakX}{\mathfrak{X}}

% General/Differential/Algebraic Topology 
\newcommand{\scrA}{\mathscr{A}}
\newcommand{\scrB}{\mathscr{B}}
\newcommand{\scrF}{\mathscr{F}}
\newcommand{\scrM}{\mathscr{M}}
\newcommand{\scrN}{\mathscr{N}}
\newcommand{\scrP}{\mathscr{P}}
\newcommand{\scrO}{\mathscr{O}} % sheaf
\newcommand{\scrR}{\mathscr{R}}
\newcommand{\scrS}{\mathscr{S}}
\newcommand{\bbH}{\mathbb H}
\newcommand{\Int}{\operatorname{Int}}
\newcommand{\psimeq}{\simeq_p}
\newcommand{\wt}[1]{\widetilde{#1}}
\newcommand{\RP}{\mathbb{R}\text{P}}
\newcommand{\CP}{\mathbb{C}\text{P}}

% Miscellaneous
\newcommand{\wh}[1]{\widehat{#1}}
\newcommand{\calM}{\mathcal{M}}
\newcommand{\calP}{\mathcal{P}}
\newcommand{\onto}{\twoheadrightarrow}
\newcommand{\into}{\hookrightarrow}
\newcommand{\Gr}{\operatorname{Gr}}
\newcommand{\Span}{\operatorname{Span}}
\newcommand{\ev}{\operatorname{ev}}
\newcommand{\weakto}{\stackrel{w}{\longrightarrow}}

\newcommand{\define}[1]{\textcolor{blue}{\textit{#1}}}
\newcommand{\caution}[1]{\textcolor{red}{\textit{#1}}}
\newcommand{\important}[1]{\textcolor{red}{\textit{#1}}}
\renewcommand{\mod}{~\mathrm{mod}~}
\renewcommand{\le}{\leqslant}
\renewcommand{\leq}{\leqslant}
\renewcommand{\ge}{\geqslant}
\renewcommand{\geq}{\geqslant}
\newcommand{\Res}{\operatorname{Res}}
\newcommand{\floor}[1]{\left\lfloor #1\right\rfloor}
\newcommand{\ceil}[1]{\left\lceil #1\right\rceil}
\newcommand{\gl}{\mathfrak{gl}}
\newcommand{\ad}{\operatorname{ad}}
\newcommand{\Stab}{\operatorname{Stab}}
\newcommand{\bfX}{\mathbf{X}}
\newcommand{\Ind}{\operatorname{Ind}}
\newcommand{\bfG}{\mathbf{G}}
\newcommand{\rank}{\operatorname{rank}}
\newcommand{\calo}{\mathcal{o}}
\newcommand{\frako}{\mathfrak{o}}
\newcommand{\Cl}{\operatorname{Cl}}

\newcommand{\idim}{\operatorname{idim}}
\newcommand{\pdim}{\operatorname{pdim}}
\newcommand{\Ext}{\operatorname{Ext}}
\newcommand{\co}{\operatorname{co}}
\newcommand{\bfO}{\mathbf{O}}
\newcommand{\bfF}{\mathbf{F}} % Fitting Subgroup
\newcommand{\Syl}{\operatorname{Syl}}
\newcommand{\nor}{\vartriangleleft}
\newcommand{\noreq}{\trianglelefteqslant}
\newcommand{\subnor}{\nor\!\nor}
\newcommand{\Soc}{\operatorname{Soc}}
\newcommand{\core}{\operatorname{core}}
\newcommand{\Sd}{\operatorname{Sd}}
\newcommand{\mesh}{\operatorname{mesh}}
\newcommand{\sminus}{\setminus}
\newcommand{\diam}{\operatorname{diam}}
\newcommand{\Ass}{\operatorname{Ass}}
\newcommand{\projdim}{\operatorname{proj~dim}}
\newcommand{\injdim}{\operatorname{inj~dim}}
\newcommand{\gldim}{\operatorname{gl~dim}}
\newcommand{\embdim}{\operatorname{emb~dim}}
\newcommand{\hght}{\operatorname{ht}}
\newcommand{\depth}{\operatorname{depth}}
\newcommand{\ul}[1]{\underline{#1}}
\newcommand{\type}{\operatorname{type}}



\geometry {
    margin = 0.8in
}

\titleformat
{\section}
[block]
{\Large\bfseries\sffamily}
{\S\thesection}
{0.5em}
{\centering}
[]


\titleformat
{\subsection}
[block]
{\normalfont\bfseries\sffamily}
{\S\S}
{0.5em}
{\centering}
[]

\begin{document}
\maketitle

\section{Coxeter Systems}

Let $W$ denote a group and $S\subseteq W$ a generating set such that $1\in S$ and $S = S^{-1}$. Fix this pair throughout this section, and we refer to such a pair as a \define{generating pair}.

\begin{definition}
    Let $w\in W$. The length of $w$ with respect to $S$, denoted by $\ell_S(w)$ (often abbreviated to $\ell(w)$) is the smallest integer $q\ge 0$ such that $w$ is the product of a sequence of $q$ elements of $S$. A \define{reduced representation} of $W$ with respect to $S$ is any sequence $\mathbf s = (s_1,\dots,s_q)$ of elements of $S$ such that $w = s_1\cdots s_q$ and $q = \ell_S(w)$.
\end{definition}

Clearly, if $w, w'\in W$, then 
\begin{align*}
    \ell(ww') &\le\ell(w) + \ell(w'),\\
    \ell(w^{-1}) &= \ell(w),\\
    \left|\ell(w) - \ell(w')\right|&\le\ell(ww'^{-1}).
\end{align*}

\begin{definition}
    $(W, S)$ is said to be a \define{Coxeter system} if every element in $S$ has order at most $2$, and it satisfies the following condition: 
    \begin{enumerate}[label=(Cox)]
        \item For $s, s'\in S$, let $1\le m(s, s')\le\infty$ be the order of $ss'\in W$ and let 
        \begin{equation*}
            I = \left\{(s, s')\colon m(s, s') < \infty\right\}.
        \end{equation*}
        Then 
        \begin{equation*}
            W = \left\langle s\in S\colon (ss')^{m(s, s')} = 1,~(s, s')\in I\right\rangle
        \end{equation*}
        is a presentation for the group $W$.\label{coxeter}
    \end{enumerate}
\end{definition}

\begin{remark}\thlabel{rem:signature-of-coxeter-system}
    Consider the function $f: S\to\{-1, 1\}$ given by $f(s) = -1$ for each $s\in S$. If $s, s'\in S$ such that $m = m(s, s') < \infty$, then $\left(f(s)f(s')\right)^m = 1$ almost tautologically. Hence, this function induces a map $\sgn: W\to \{-1, 1\}$ known as the \define{signature} of $W$. It is clear that $\sgn(w) = (-1)^{\ell(w)}$.
\end{remark}

\begin{proposition}
    Assume that $(W, S)$ is a Coxeter system. Then, two elements $s, s'\in S$ are conjugate in $W$ if and only if the following condition is satisfied:
    \begin{enumerate}[label=(Con)]
        \item There exists a finite sequence $(s_1,\dots,s_q)$ of elements of $S$ such that $s_1 = s$, $s_q = s'$ and $s_js_{j + 1}$ is of \emph{finite} odd order for $1\le j < q$. \label{conjugation}
    \end{enumerate}
\end{proposition}
\begin{proof}
    First, if $s, s'\in S$ such that $p = ss'$ is of finite order $2n + 1$, then 
    \begin{equation*}
        sps^{-1} = p^{-1}\implies sp^ns^{-1} = p^{-n},
    \end{equation*}
    so that 
    \begin{equation*}
        p^{n}sp^{-n} = p^np^ns = p^{-1}s = s',
    \end{equation*}
    and $s'$ is conjugate to $s$. In particular, this shows that if \ref{conjugation} is satisfied, then $(s, s')$ is a pair of conjugates in $W$.

    For each $s\in S$, let $A_s$ be the set of $s'\in S$ satisfying \ref{conjugation}; clearly, every $s'\in A_s$ is conjugate of $s$. Let $f: S\to\{-1, 1\}$ that is equal to $1$ on $A_s$ and to $-1$ in $S\setminus A_s$. We shall show that this map can be extend to a group homomorphism $W\to \{-1, 1\}$. Indeed, let $s', s''\in S$ with $m = m(s, s') < \infty$. If $m$ is odd, then $s'$ and $s''$ are conjugate so either both in $A_s$ or both in $S\setminus A_s$, and hence $f(s')f(s'') = 1$, in particular, $\left(f(s')f(s'')\right)^m = 1$. On the other hand, if $m$ is even, then clearly $\left(f(s')f(s'')\right)^m = 1$. Consequently, to \ref{coxeter}, the map $f$ extends to a group homomorphism $W\to\{-1, 1\}$.

    Finally, let $s'$ be a conjugate of $s$ in $W$. Since $s\in\ker f$, so does $s'$, hence $s'\in A_s$.
\end{proof}

\begin{definition}
    Let $(W, S)$ be a Coxeter system and let $T$ be the set of conjugates in $W$ of elements of $S$. For any sequence $\mathbf s = (s_1,\dots,s_q)$ of elements of $S$, denote by $\Phi(\mathbf s)$ the sequence $(t_1,\dots,t_q)$ of elements of $T$ defined by 
    \begin{equation*}
        t_j = (s_1\cdots s_{j - 1}) s_j(s_1\cdots s_{j - 1})^{-1} = (s_1\cdots s_{ j- 1})s_j(s_{j - 1}\cdots s_1).
    \end{equation*}
    Then $t_1 = s_1$ and $s_1\cdots s_q = t_q\cdots t_1$. For $t\in T$, denote by $n(\mathbf s, t)$ the number of indices $1\le j\le q$ for which $t_j = t$. Finally, set 
    \begin{equation*}
        R = \left\{-1, 1\right\}\times T.
    \end{equation*}
\end{definition}

\begin{lemma}\thlabel{lem:first-lemma}
\begin{enumerate}[label=(\arabic*)]
    \item Let $w\in W$ and $t\in T$. The number $(-1)^{n(\mathbf s, t)}$ has the same value $\eta(w, t)$ for all sequences $\mathbf s = (s_1,\dots,s_q)$ in $S$ such that $w = s_1\cdots s_q$.
    \item For $w\in W$, let $U_w: R\to R$ be given by 
    \begin{equation*}
        U_w(\varepsilon, t) = \left(\varepsilon\eta(w^{-1}, t), wtw^{-1}\right).
    \end{equation*}
    The map $w\mapsto U_w$ is a homomorphism from $W$ to the group of permutations of $R$, $\mathfrak{Sym}(R)$.
\end{enumerate}
\end{lemma}
\begin{proof}
    For $s\in S$, define a map $U_s: R\to R$ by 
    \begin{equation*}
        U_s(\varepsilon, t) = \left(\varepsilon(-1)^{\delta_{s, t}}, sts^{-1}\right),
    \end{equation*}
    where $\delta_{s, t}$ is the Kronecker symbol. Clearly, $U_s^2 = \id_R$, and hence $U_s$ is a permutation of $R$.

    For a sequence $\mathbf s = (s_1,\dots,s_q)$ in $S$, put $w = s_q\cdots s_1$ and $U_{\mathbf s} = U_{s_q}\cdots U_1$. We shall show by induction that 
    \begin{equation}
        U_{\mathbf s}(\varepsilon, t) = \left(\varepsilon(-1)^{n(\mathbf s, t)}, wtw^{-1}\right). \label{inductive-hypothesis}
    \end{equation}
    This is clear if $q = 0, 1$. For $q > 1$, put $\mathbf s' = (s_1,\dots,s_{q - 1})$ and 
    \begin{equation*}
        w' = s_{q - 1}\cdots s_1.
    \end{equation*}
    Using the induction hypothesis, we can write 
    \begin{equation*}
        U_{\mathbf s}(\varepsilon, t) = U_{s_q} \left(\varepsilon (-1)^{n(\mathbf s', t)}, w'tw'^{-1}\right) = \left(\varepsilon (-1)^{n(\mathbf s', t) + \delta_{s_q, w' tw'^{-1}}}, wtw^{-1}\right).
    \end{equation*}
    But since $\Phi(\mathbf s) = \left(\Phi(\mathbf s'), w' t w'^{-1}\right)$, the formula \eqref{inductive-hypothesis} follows.

    Now let $s, s'\in S$ be such that $p = ss'$ has finite order $m$. Let $\mathbf s = (s_1,\dots,s_{2m})$ where 
    \begin{equation*}
        s_j = 
        \begin{cases}
            s & j\text{ is odd}\\
            s' & j\text{ is even}.
        \end{cases}
    \end{equation*}
    Then $s_{2m}\cdots s_1 = p^{-m} = 1$ and 
    \begin{equation*}
        t_j = (s_1\cdots s_{j - 1}) s_j(s_{j - 1}\cdots s_1) = p^{j - 1}s\qquad\text{for }1\le j\le 2m.
    \end{equation*}
    Sinc $p$ is of order $m$, the elements $t_1,\dots,t_m$ are distinct and $t_{j + m} = t_j$ for $1\le j\le m$. The integer $n(\mathbf s, t)$ is equal to either $0$ or $2$ and due to \eqref{inductive-hypothesis}, we have that $U_{\mathbf s} = \id_R$, i.e., $\left(U_s U_{s'}\right)^m = \id_R$. Thus, by \ref{coxeter}, there is a group homomorphism $W\to\mathfrak{Sym}(R)$ given by $w\mapsto U_w$, extending the mapping $s\mapsto U_s$. It follows that $U_w = U_{\mathbf s}$ for every sequence $\mathbf s = (s_1,\dots,s_q)$ such that $w = s_q\cdots s_1$. Both conclusions of the lemma follow hence.
\end{proof}

\begin{lemma}\thlabel{lem:equivalent-condition-for-reduced-representation}
    Let $\mathbf{s} = (s_1,\dots,s_q)$, $\Phi(\mathbf{s}) = (t_1,\dots,t_q)$ and $w = s_1\cdots s_q$. Let $T_w$ be the set of elements of $T$ such that $\eta(w, t) = -1$. Then $\mathbf{s}$ is a reduced representation of $w$ if and only if the $t_i$ are distinct, and in that case, $T_w = \{t_1,\dots,t_q\}$ and $\# T_w = \ell(w)$.
\end{lemma}
\begin{proof}
    Clearly $T_w\subseteq\{t_1,\dots,t_q\}$. Taking $\mathbf s$ to be a reduced representation, it follows that $\# T_w\le\ell(w)$. Further, if the $t_i$'s are distinct, then $\eta(w, t) = -1$ if and only if $t\in\{t_1,\dots,t_q\}$, so that $T_w = \{t_1,\dots, t_q\}$ and $q = \# T_w\le\ell(w)$. Hence, $\mathbf s$ is a reduced representation.

    On the other hand, suppose $t_i = t_j$ for some $i < j$. Then 
    \begin{equation*}
        s_i = (s_i\cdots s_{j - 1}) s_j(s_i\cdots s_{j - 1})^{-1};
    \end{equation*}
    consequently, 
    \begin{equation*}
        w = s_1\cdots s_{i - 1} s_{i + 1}\cdots s_{j - 1}\cdots s_{j + 1}\cdots s_q,
    \end{equation*}
    whence $\mathbf s$ is not a reduced representation of $w$, as desired.
\end{proof}

\begin{lemma}
    Let $w\in W$ and $s\in S$ be such that $\ell(sw)\le \ell(w)$. For any sequence $\mathbf s = (s_1,\dots,s_q)$ of elements of $S$ with $w = s_1\cdots s_q$, there exists an index $1\le j\le q$ such that 
    \begin{equation*}
        ss_1\cdots s_{j - 1} = s_1\cdots s_j.
    \end{equation*}
\end{lemma}
\begin{proof}
    Let $p$ be the length of $w$ and $w'= sw$. Due to \thref{rem:signature-of-coxeter-system}, $\ell(w')\equiv\ell(w) + 1\pmod 2$. The hypothesis $\ell(w')\le\ell(w)$ and the relation
    \begin{equation*}
        \left|\ell(w) - \ell(w')\right|\le\ell(ww'^{-1}) = \ell(s) = 1,
    \end{equation*}
    and hence, $\ell(w') = p - 1$. Let $w' = s_1'\cdots s_{p - 1}'$ be a reduced representation of $w'$ and put $\mathbf s = (s, s_1',\dots,s_{p - 1}')$ and $\Phi(\mathbf s') = (t_1',\dots,t_p')$. Since $\mathbf s'$ is a reduced representation of $w$, due to \thref{lem:equivalent-condition-for-reduced-representation}, the $t_j$'s must be distinct and $n(\mathbf s', s) = 1$ since $t_1 = s$. Further, since both $\mathbf s$ and $\mathbf s'$ represent $w$, due to \thref{lem:first-lemma}, we must have $n(\mathbf s, s)\equiv n(\mathbf s', s)\pmod 2$, whence $n(\mathbf s, s)\ne 0$. Consequently, $s$ is equal to one of the $t_j$'s. The lemma then follows immediately.
\end{proof}

\subsection{The Exchange Condition}
\begin{definition}\thlabel{def:exchange-condition}
    Let $W$ be a group and $S\subseteq W$ a generating set such that $S^{-1} = S$ and every element in $S$ has order at most $2$. The \define{exchange condition} is the following assertion about $(W, S)$:
    \begin{enumerate}[label=(Exc)]
        \item Let $w\in W$ and $s\in S$ be such that $\ell(sw)\le\ell(w)$. For any reduced representation $w = s_1\cdots s_q$, there exists an index $1\le j\le q$ such that 
        \begin{equation*}
            ss_1\cdots s_{j - 1} = s_1\cdots s_j.
        \end{equation*}
        \label{exchange-condition}
    \end{enumerate}
\end{definition}

\begin{proposition}\thlabel{prop:about-lengths-of-exchange-systems}
    Let $(W, S)$ be a pair as in \thref{def:exchange-condition} and satisfying \ref{exchange-condition}. Let $s\in S$, $w\in W$ and $w = s_1\cdots s_q$ be a reduced representation of $w$. Then one of the following must hold: 
    \begin{enumerate}[label=(\roman*)]
        \item $\ell(sw) = \ell(w) + 1$ and $sw = ss_1\cdots s_q$ is a reduced representation of $sw$, or 
        \item $\ell(sw) = \ell(w) - 1$ and there exists an index $1\le j\le q$ such that $sw = s_1\cdots s_{j - 1}s_{j + 1}\cdots s_q$ is a reduced representation of $sw$ and $w = ss_1\cdots s_{j - 1}s_{j + 1}\cdots s_q$ is a reduced representation of $w$.
    \end{enumerate}
\end{proposition}
\begin{proof}
    Let $w' = sw$. We know that 
    \begin{equation*}
        \left|\ell(w) - \ell(w')\right|\le\ell(s) = 1.
    \end{equation*}
    Suppose first that $\ell(w') > \ell(w)$. Then $\ell(w') = q + 1$ and $w' = ss_1\cdots s_q$ whence this is also a reduced representation.

    Next, suppose $\ell(w')\le\ell(w)$. Due to \ref{exchange-condition}, there exists an index $1\le j\le q$ such that 
    \begin{equation*}
        ss_1\cdots s_{j - 1} = s_1\cdots s_j.
    \end{equation*}
    Then $w = ss_1\cdots s_{j - 1}s_{j + 1}\cdots s_q$. Since $\ell(w')\ge q - 1$, we must have $\ell(w') = q - 1$ and that the above representation is reduced.
\end{proof}

\begin{lemma}\thlabel{lem:conditions-for-constant-function}
    Let $(W, S)$ be a pair as in \thref{def:exchange-condition} and satisfying \ref{exchange-condition}. Let $w\in W$ have length $q\ge 1$, let $D$ be the set of all reduced representations of $w$, and let $F: D\to E$.

    Assume that $F(\mathbf s) = F(\mathbf s')$ if the elements $\mathbf s = (s_1,\dots,s_q)$ and $\mathbf s' = (s_1',\dots,s_q')$ of $D$ satisfy one of the following: 
    \begin{enumerate}[label=(\roman*)]
        \item $s_1 = s_1'$ or $s_q = s_q'$; or 
        \item there exist $s$ and $s'$ in $S$ such that $s_j = s_k' = s$ and $s_k = s_j' = s'$ for $j$ odd and $k$ even.
    \end{enumerate}
    Then $F$ is constant.
\end{lemma}
\begin{proof}
The proof proceeds in two steps: 

\noindent{\textbf{Step 1.}} Let $\mathbf s, \mathbf s'\in D$ and put $\mathbf t = (s_1', s_1,\dots, s_{q - 1})$. We shall show that if $F(\mathbf s)\ne F(\mathbf s')$ then $\mathbf t\in D$ and $F(\mathbf t)\ne F(\mathbf s)$.

Indeed, $w = s_1'\cdots s_q'$ and $s_1'w = s_2'\cdots s_q'$, so that $\ell(s_1'w) < q = \ell(w)$. Due to \thref{prop:about-lengths-of-exchange-systems} (ii), there is an index $1\le j\le q$ such that $\mathbf u =(s_1',s_1,\dots, s_{j - 1}, s_{j + 1},\dots,s_q)$ belongs to $D$. Due to condition (i), we have $F(\mathbf u) = F(\mathbf s')$. If $j\ne q$, then we would also have $F(\mathbf u) = F(\mathbf s)$ due to condition (i), contrary to our hypothesis that $F(\mathbf s)\ne F(\mathbf s')$. Thus $j = q$ and hence $\mathbf t = \mathbf u\in D$ and $F(\mathbf t) = F(\mathbf s')\ne F(\mathbf s)$, as desired. 

\noindent{\textbf{Step 2.}} Let $\mathbf s,\mathbf s'\in D$. For $0\le j\le q + 1$, define a sequence $\mathbf s_j$ of $q$-elements of $S$ as: 
\begin{align*}
    \mathbf s_0 &= (s_1',\dots, s_q')\\
    \mathbf s_1 &= (s_1,\dots,s_q)\\
    \mathbf s_{q + 1 - k} &= \begin{cases}
        (s_1,s_1',\dots,s_1,s_1',s_1,s_2,\dots,s_k) & q - k \text{ even and }0\le k\le q\\
        (s_1',s_1,\dots,s_1, s_1',s_1,s_2,\dots,s_k) & q - k \text{ odd and }0\le k\le q
    \end{cases}
\end{align*}
Let $(H_j)$ denote the assertion: 
\begin{equation*}
    ``\mathbf s_j\in D,~\mathbf s_{j + 1}\in D\text{ and } F(\mathbf s_j)\ne F(\mathbf s_{j + 1})''.
\end{equation*}
Due to \textbf{Step 1}, $(H_j)\implies(H_{j + 1})$ for $0\le j\le q$, and due to condition (ii), $(H_q)$ is false. Hence $(H_0)$ is false, so that $F(\mathbf s) = F(\mathbf s')$, thereby completing the proof.
\end{proof}

\begin{proposition}\thlabel{prop:map-to-monoid-well-defined}
    Let $M$ be a monoid and $f: S\to M$. Set 
    \begin{equation*}
        a(s, s') = 
        \begin{cases}
            \left(f(s)f(s')\right)^l & m(s, s') = 2l\\
            \left(f(s)f(s')\right)^l f(s) & m(s, s') = 2l + 1\\
            1 & m(s, s') = \infty.
        \end{cases}
    \end{equation*}
    If $a(s, s') = a(s' ,s)$ whenever $s\ne s'$ in $S$, then there exists a map $g: W\to M$ such that 
    \begin{equation*}
        g(w) = f(s_1)\cdots f(s_q)
    \end{equation*}
    for every reduced representation $w = s_1\cdots s_q$ of $w\in W$.
\end{proposition}
\begin{proof}
    For $w\in W$, let $D_w$ be the set of all reduced representations of $w$ and $F_w: D_w\to M$ given by 
    \begin{equation*}
        F_w(s_1,\dots,s_q) = f(s_1)\cdots f(s_q).
    \end{equation*}
    We shall argue by induction on $\ell(w)$ that $F_w$ is a constant function. The base cases $\ell(w) = 0, 1$ are trivial. Suppose now that $q = \ell(w)\ge 2$ and the inductive hypothesis has been proven for all lengths $< q$. In light of \thref{lem:conditions-for-constant-function}, it suffices to show that $F_w(\mathbf s) = F_w(\mathbf s')$ in both conditions of the aforementioned lemma. 
    \begin{enumerate}[label=(\roman*)]
        \item This is quite straightforward using the inductive hypothesis and the equality
        \begin{equation*}
            F_w(s_1,\dots,s_q) = f(s_1)F_{w'}(s_2,\dots,s_q) = F_{w''}(s_1,\dots,s_{q - 1})f(s_q).
        \end{equation*}
        \item \todo{Dihedral groups}\qedhere
    \end{enumerate}
\end{proof}

\begin{theorem}
    Let $(W, S)$ be a pair such that $S$ generates $W$, $1\in S$, $S^{-1} = S$ and every element in $S$ has order at most $2$. Then $(W, S)$ is a Coxeter system if and only if it satisfies \ref{exchange-condition}.
\end{theorem}
\begin{proof}
    We have already seen that a Coxeter system satisfies \ref{exchange-condition}. Conversely, suppose $(W, S)$ is a pair as in \ref{def:exchange-condition} and satisfies \ref{exchange-condition}. To show that $(W, S)$ is a Coxeter system, it suffices to show that it has the desired \emph{universal property} of its presentation.

    Indeed, let $G$ be a group and $f: S\to G$ be a map such that $\left(f(s)f(s')\right)^{m(s, s')} = 1$ whenever $m(s, s') < \infty$. Due to \thref{prop:map-to-monoid-well-defined}, there exists a map $g: W\to G$ such that 
    \begin{equation*}
        g(w) = f(s_1)\cdots f(s_q)
    \end{equation*}
    whenever $w = s_1\cdots s_q$ is a reduced representation of $w$. It suffices to show that $g$ is a group homomorphism. To this end, since $S$ generates $W$, it suffices to show that 
    \begin{equation*}
        g(sw) = f(s)g(w)\qquad \forall~s\in S,~\forall~w\in W.
    \end{equation*}
    Due to \thref{prop:about-lengths-of-exchange-systems}, there are two possible cases: 
    \begin{enumerate}[label=(\roman*)]
        \item If $\ell(sw) = \ell(w) + 1$ then choosing a reduced representation $w = s_1\cdots s_q$, it follows that $sw = ss_1\cdots s_q$ is a reduced representation of $sw$. Hence 
        \begin{equation*}
            g(sw) = f(s)f(s_1)\cdots f(s_q) = f(s)g(w).
        \end{equation*}

        \item If $\ell(sw) = \ell(w) - 1$ put $w' = sw$. Then $w = sw'$ and $\ell(sw') = \ell(w') + 1$. Due to case (i), $g(sw') = f(s)g(w')$, i.e., $f(s)g(w) = g(sw)$ since $f(s)^2 = 1$. \qedhere
    \end{enumerate}
\end{proof}

\subsection{Families of Partitions and Subgroups of Coxeter Groups}

\begin{proposition}
    Let $(W, S)$ be a Coxeter system. For $s\in S$, set 
    \begin{equation*}
        P_s = \left\{w\in W\colon \ell(sw) > \ell(w)\right\}.
    \end{equation*}
    \begin{enumerate}[label=(\Roman*)]
        \item $\displaystyle\bigcap_{s\in S} P_s = \{1\}$.
        \item For any $s\in S$, the sets $P_s$ and $sP_s$ form a partition of $W$. 
        \item Let $s, s'\in S$ and let $w\in W$. If $w\in P_s$ and $ws'\notin P_s$ then $sw = ws'$. \label{condition-for-next-proposition}
    \end{enumerate}
\end{proposition}
\begin{proof}
\begin{enumerate}[label=(\Roman*)]
    \item Let $1\ne w\in W$ and let $w = s_1\cdots s_q$ be a reduced representation of $w$ with $q\ge 1$. Clearly $s_1w = s_2\cdot s_q$ is a reduced representation of $s_1w$, so that $w\notin P_{s_1}$. 
    
    \item Let $w\in W$ and $s\in S$. Due to \thref{prop:about-lengths-of-exchange-systems}, there are two cases to handle: 
    \begin{enumerate}[label=(\roman*)]
        \item $\ell(sw) = \ell(w) + 1$: then $w\in P_s$. 
        \item $\ell(sw) = \ell(w) - 1$: then setting $w' = sw$, we see that $\ell(sw') = \ell(w') + 1$, so that $w'\in P_s$ and $w\in sP_s$.
    \end{enumerate}
    To see that $P_s\cap sP_s = \emptyset$, suppose $w\in P_s\cap sP_s$. Then $w = sw'$ where $w'\in P_s$, so that $\ell(w) = \ell(sw') > \ell(w')$. But since $w' = sw$ and $w\in P_s$, we must have $\ell(w') = \ell(sw) > \ell(w)$, a contradiction.

    \item Let $q = \ell(w)$. Since $w\in P_s$, it follows that $\ell(sw) = q + 1$ and from $ws'\notin P_s$ it follows that $sws'\in P_s$, so that $q + 1\ge\ell(ws') = \ell(sws') + 1$ and hence $\ell(sws')\le q$. Further, since $\ell(sws') = \ell(sw) \pm 1$, we must have $\ell(sws') = q$ and $\ell(ws') = q + 1$.

    Let $w = s_1\cdots s_q$ be a reduced representation of $w$ and set $s_{q + 1} = s'$. Then $ws' = s_1\cdots s_{q + 1}$ is a reduced decomposition of $ws'$. Due to \ref{exchange-condition} and the fact that $\ell(sws')\le\ell(ws')$, there is an index $1\le j\le q + 1$ such that 
    \begin{equation*}
        ss_1\cdots s_{j - 1} = s_1\cdots s_j.
    \end{equation*}
    If $1\le j\le q$, we would have $sw = s_1\cdots s_{j - 1}s_{j + 1}\cdot s_q$, contradicting the fact that $\ell(sw) = q + 1$. Thus $j = q + 1$, i.e., $sw = ws'$, as desired. \qedhere
\end{enumerate}
\end{proof}

\begin{proposition}
    Let $(W, S)$ be a generating pair such that every element in $S$ has order at most $2$. Let $(P_s)_{s\in S}$ be a family of subsets of $W$ satisfying \ref{condition-for-next-proposition} and the following additional conditions: 
    \begin{enumerate}[label=(\Roman*')]
        \item $1\in P_s$ for all $s\in S$.
        \item The sets $P_s$ and $sP_s$ are disjoint for all $s\in S$.
    \end{enumerate}
    Then $(W, S)$ is a Coxeter system and 
    \begin{equation*}
        P_s = \left\{s\in S\colon \ell(sw) > \ell(w)\right\}.
    \end{equation*}
\end{proposition}
\begin{proof}
    
\end{proof}
\end{document}